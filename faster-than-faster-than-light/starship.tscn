[gd_scene load_steps=10 format=3 uid="uid://cjxyia0bj1uuo"]

[ext_resource type="Script" uid="uid://ou4uilyxtgnd" path="res://starship.gd" id="1_ng4vp"]
[ext_resource type="PackedScene" uid="uid://b7rwxfw7w8fbl" path="res://command_ship_mesh.tscn" id="2_86p3r"]
[ext_resource type="PackedScene" uid="uid://bj55jmmx5j5ur" path="res://fighter_mesh.tscn" id="2_wpmgm"]
[ext_resource type="PackedScene" uid="uid://dtmka8h8pyslt" path="res://relay_mesh.tscn" id="4_deqbx"]
[ext_resource type="PackedScene" uid="uid://ekalc2xvf8pl" path="res://repair_mesh.tscn" id="4_w4b5x"]
[ext_resource type="PackedScene" uid="uid://8ym1jdmse5dp" path="res://laser.tscn" id="5_fb3fn"]
[ext_resource type="Script" uid="uid://4wla3nr3yud7" path="res://marker.gd" id="7_ndcd6"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_w4b5x"]
resource_local_to_scene = true
draw_center = false
border_width_left = 6
border_width_top = 6
border_width_right = 6
border_width_bottom = 6
border_color = Color(1, 1, 1, 1)
corner_radius_top_left = 24
corner_radius_top_right = 24
corner_radius_bottom_right = 24
corner_radius_bottom_left = 24

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ndcd6"]
resource_local_to_scene = true
draw_center = false
border_width_left = 6
border_width_top = 6
border_width_right = 6
border_width_bottom = 6
border_color = Color(1, 0.0784314, 0, 1)
corner_radius_top_left = 16
corner_radius_top_right = 16
corner_radius_bottom_right = 16
corner_radius_bottom_left = 16

[node name="Starship" type="Node3D"]
script = ExtResource("1_ng4vp")
meshes = Array[PackedScene]([ExtResource("2_86p3r"), ExtResource("2_wpmgm"), null, null, ExtResource("4_w4b5x"), null, ExtResource("4_deqbx"), null, null, null])
projectiles = Array[PackedScene]([ExtResource("5_fb3fn")])

[node name="JumpDelay" type="Timer" parent="."]
one_shot = true

[node name="TargetingDelay" type="Timer" parent="."]
one_shot = true
autostart = true

[node name="WeaponReload1" type="Timer" parent="."]

[node name="WeaponReload2" type="Timer" parent="."]

[node name="WeaponReload3" type="Timer" parent="."]

[node name="RepairReload" type="Timer" parent="."]

[node name="Marker" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_left = -50.0
offset_top = -50.0
offset_right = 50.0
offset_bottom = 50.0
script = ExtResource("7_ndcd6")

[node name="Selection" type="Panel" parent="Marker"]
layout_mode = 1
offset_right = 100.0
offset_bottom = 100.0
theme_override_styles/panel = SubResource("StyleBoxFlat_w4b5x")

[node name="Target" type="Panel" parent="Marker"]
visible = false
layout_mode = 1
offset_left = 10.0
offset_top = 10.0
offset_right = 90.0
offset_bottom = 90.0
theme_override_styles/panel = SubResource("StyleBoxFlat_ndcd6")

[node name="Info" type="Control" parent="Marker"]
anchors_preset = 0
offset_left = 105.0
offset_right = 205.0
offset_bottom = 100.0

[node name="Name" type="Label" parent="Marker/Info"]
custom_minimum_size = Vector2(0, 25)
layout_mode = 0
offset_right = 56.0
offset_bottom = 25.0
text = "NAME: "
vertical_alignment = 1

[node name="Type" type="Label" parent="Marker/Info"]
custom_minimum_size = Vector2(0, 25)
layout_mode = 0
offset_top = 25.0
offset_right = 47.0
offset_bottom = 50.0
text = "TYPE: "
vertical_alignment = 1

[node name="Hull" type="Label" parent="Marker/Info"]
custom_minimum_size = Vector2(0, 25)
layout_mode = 0
offset_top = 50.0
offset_right = 50.0
offset_bottom = 75.0
text = "HULL: "
vertical_alignment = 1

[node name="Status" type="Label" parent="Marker/Info"]
custom_minimum_size = Vector2(0, 25)
layout_mode = 0
offset_top = 75.0
offset_right = 90.0
offset_bottom = 100.0
text = "STATUS: OK"
vertical_alignment = 1

[connection signal="timeout" from="JumpDelay" to="." method="_on_jump_delay_timeout"]
[connection signal="timeout" from="TargetingDelay" to="." method="new_target" binds= [0]]
[connection signal="timeout" from="WeaponReload1" to="." method="_weapon_fire" binds= [0]]
[connection signal="timeout" from="WeaponReload2" to="." method="_weapon_fire" binds= [1]]
[connection signal="timeout" from="WeaponReload3" to="." method="_weapon_fire" binds= [2]]
[connection signal="timeout" from="RepairReload" to="." method="_repair"]
